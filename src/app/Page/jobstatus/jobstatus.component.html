<div class="container mt-3">
  <h5 class="card-title">Job Status For Job #{{ jobs.id }}</h5>
  <p class="card-title">
    Date: {{ jobDate?.jobDetailsDate | date : "fullDate" }}
  </p>
  <p class="card-title">Client: {{ jobs.clientId }}</p>

  <p class="card-title">Location:{{ jobDetails.location }}</p>
  <form [formGroup]="jobStatusForm" class="mt-3">
    <div style="margin-bottom: 10%;">
      <!-- Job status card -->
      <div
        class="cardborder card-body justify-content-between align-items-center"
      >
        <h5 class="card-title">Job Status</h5>
        <div class="d-flex justify-content-between align-items-center">
          <label class="body-card d-flex align-items-center">
            <input
              type="radio"
              [value]="1"
              formControlName="jobStatus"
              name="jobStatus"
              class="me-2"
            />
            Job Completely Finished
          </label>
          <span
            class="d-flex align-items-center"
            *ngIf="jobStatusForm.get('jobStatus')?.value == 1"
          >
            <input
              type="checkbox"
              formControlName="confirmedInvoice"
              class="me-2"
            />
            <label>Confirmed - Ready to Invoice.</label>
          </span>
        </div>

        <div class="d-flex justify-content-between align-items-center">
          <label class="body-card d-flex align-items-center">
            <input
              type="radio"
              [value]="2"
              formControlName="jobStatus"
              name="jobStatus"
              class="me-2"
            />
            Job Ongoing - Dates Confirmed With Client
          </label>
          <span
            class="d-flex align-items-center"
            *ngIf="jobStatusForm.get('jobStatus')?.value == 2"
          >
            <input
              type="checkbox"
              formControlName="confirmedInvoice"
              class="me-2"
            />
            <label>Confirmed - (Dates booked on eBoard)</label>
          </span>
        </div>

        <div class="d-flex justify-content-between align-items-center">
          <label class="body-card d-flex align-items-center">
            <input
              type="radio"
              [value]="4"
              formControlName="jobStatus"
              name="jobStatus"
              class="me-2"
            />
            Dry Job Becoming Dry Hire(handover completed)
          </label>
          <span
            class="d-flex align-items-center"
            *ngIf="jobStatusForm.get('jobStatus')?.value == 4"
          >
            <input
              type="checkbox"
              formControlName="confirmedInvoice"
              class="me-2"
            />
            <label
              >Confirmed - Site has been handed over to client, gear hire
              only.</label
            >
          </span>
        </div>

        <div class="d-flex justify-content-between align-items-center">
          <label class="body-card d-flex align-items-center">
            <input
              type="radio"
              [value]="3"
              formControlName="jobStatus"
              name="jobStatus"
              class="me-2"
            />
            Job Ongoing - Dates TBC
          </label>
          <span
            class="d-flex align-items-center"
            *ngIf="jobStatusForm.get('jobStatus')?.value == 3"
          >
            <input
              type="checkbox"
              formControlName="confirmedInvoice"
              class="me-2"
            />
            <label
              >Confirm status with client and choose from one of above 3
              options</label
            >
          </span>
        </div>

        <button class="btn btn-warning btn-sm mt-2" (click)="resetJobStatus()">
          Reset Job Status
        </button>
      </div>

      <!-- cancellation card -->
      <div
        class="cardborder card-body justify-content-between align-items-center"
      >
        <h5 class="card-title">Cancellation Status</h5>
        <div class="d-flex justify-content-between align-items-center">
          <label class="body-card d-flex align-items-center">
            <input
              type="radio"
              [value]="1"
              formControlName="cancellationStatus"
              name="cancellationStatus"
              class="me-2"
            />
            Job Cancelled While You Were At Base
          </label>
          <span
            class="d-flex align-items-center"
            *ngIf="jobStatusForm.get('cancellationStatus')?.value == 1"
          >
            <input
              type="checkbox"
              formControlName="actionedInvoice"
              class="me-2"
            />
            <label>Actioned</label>
          </span>
        </div>

        <div class="d-flex justify-content-between align-items-center">
          <label class="body-card d-flex align-items-center">
            <input
              type="radio"
              [value]="2"
              formControlName="cancellationStatus"
              name="cancellationStatus"
              class="me-2"
            />
            Job Cancelled After Left Base
          </label>
          <span
            class="d-flex align-items-center"
            *ngIf="jobStatusForm.get('cancellationStatus')?.value == 2"
          >
            <input
              type="checkbox"
              formControlName="actionedInvoice"
              class="me-2"
            />
            <label>Actioned</label>
          </span>
        </div>

        <button
          class="btn btn-warning btn-sm mt-2"
          (click)="resetCancellationStatus()"
        >
          Reset Cancellation Status
        </button>
      </div>

      <!-- CallOut card -->
      <div
        class="cardborder card-body justify-content-between align-items-center"
      >
        <h5 class="card-title">CallOut Status</h5>
        <div class="d-flex justify-content-between align-items-center">
          <label class="body-card d-flex align-items-center">
            <input
              type="radio"
              [value]="1"
              formControlName="calloutStatus"
              name="calloutStatus"
              class="me-2"
            />
            Was this a Call Out Job? (RSA)
          </label>
          <span
            class="d-flex align-items-center"
            *ngIf="jobStatusForm.get('calloutStatus')?.value == 1"
          >
            <input
              type="checkbox"
              formControlName="actionedcallout"
              class="me-2"
            />
            <label>Actioned</label>
          </span>
        </div>

        <div class="d-flex justify-content-between align-items-center">
          <label class="body-card d-flex align-items-center">
            <input
              type="radio"
              [value]="2"
              formControlName="calloutStatus"
              name="calloutStatus"
              class="me-2"
            />
            Late Booking
          </label>
          <span
            class="d-flex align-items-center"
            *ngIf="jobStatusForm.get('calloutStatus')?.value == 2"
          >
            <input
              type="checkbox"
              formControlName="actionedcallout"
              class="me-2"
            />
            <label>Actioned</label>
          </span>
        </div>

        <button
          class="btn btn-warning btn-sm mt-2"
          (click)="resetCalloutStatus()"
        >
          Reset Callout Status
        </button>
      </div>

      <div
        class="cardborder card-body justify-content-between align-items-center"
      >
      
          <label class="form-label">Notes *</label>
          <textarea class="form-control borderbottom" formControlName="notes"></textarea>
    
      </div>

       <button type="submit" class="btn btn-primary w-100" (click)="submit()">
        Save
      </button>
    </div>
  </form>
</div>
