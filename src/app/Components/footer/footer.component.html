<footer class="fixed-bottom rd-bg-orange border-top">
  <nav class="d-flex justify-content-around align-items-center py-2">
    <a
      routerLink="/home"
      class="tab-link text-white text-center"
      aria-label="go to home page"
    >
      <mat-icon aria-hidden="false" aria-label="home icon">home</mat-icon>
      <p class="mb-0">Home</p>
    </a>

    <a
      routerLink="/dashboard"
      [ngClass]="{
        'active-tab': activeRoute === '/dashboard' || activeRoute === '/'
      }"
      class="tab-link text-white text-center"
      aria-label="go to calendar"
    >
      <mat-icon aria-hidden="false" aria-label="calendar icon"
        >calendar_month</mat-icon
      >
      <p class="mb-0">Calendar</p>
    </a>

    <div class="footer-spacer" aria-label="spacer">&nbsp;</div>

    <!-- <button
      data-bs-toggle="modal"
      data-bs-target="#addModal"
      class="btn btn-light rounded-circle position-absolute top-0 start-50"
    >
      <mat-icon class="icon-add" aria-hidden="false" aria-label="add icon">
        add
      </mat-icon>
    </button> -->
    <button
      (click)="openMenu(menuTemplate)"
      class="btn btn-light rounded-circle position-absolute top-0 start-50"
    >
      <mat-icon class="icon-add" aria-hidden="false" aria-label="add icon">
        add
      </mat-icon>
    </button>
    <ng-template #menuTemplate>
      <div
        class="container-fluid d-flex justify-content-center align-items-start"
      >
        <div class="menu-wrapper w-100 p-3 rounded-4">
          <!-- General -->
          <h6 class="text-white fw-bold mb-3">General</h6>
          <div class="d-grid gap-2 mb-4">
            <button
              class="menu-btn btn btn-white d-flex justify-content-between align-items-center rounded-pill shadow-sm"
            >
              <span
                ><mat-icon class="icon-padding md-18" aria-hidden="false"
                  >local_shipping</mat-icon
                >Add Callout Job</span
              ><i class="bi bi-chevron-right"></i>
            </button>
            <button
              class="menu-btn btn btn-white d-flex justify-content-between align-items-center rounded-pill shadow-sm"
             data-bs-toggle="collapse"
              data-bs-target="#vehicleCheckCollapse"
              >
              <span
                ><mat-icon class="icon-padding md-18" aria-hidden="false"
                  >local_shipping</mat-icon
                >
                Vehicle Checks</span
              ><i class="bi bi-chevron-right"></i>
            </button>
             <div class="collapse ps-3" id="vehicleCheckCollapse">
              <button
                (click)="navigateTo('/vehicle-check', 'Add')"
                class="menu-btn btn d-flex align-items-center mb-2 rounded-pill shadow-sm"
                style="background-color: #9bd5c7"
              >
                <mat-icon class="icon-padding md-18" aria-hidden="false"
                  >add</mat-icon
                >
                Add a Vehicle Check
              </button>
              <button
                class="menu-btn btn d-flex align-items-center rounded-pill shadow-sm"
                style="background-color: #5caaa5"
                (click)="navigateTo('/vehicle-check', 'View')"
              >
                <mat-icon class="icon-padding md-18" aria-hidden="false"
                  >view_list</mat-icon
                >
                View Vehicle Checks
              </button>
             
            </div>
            <button
              class="menu-btn btn btn-white d-flex justify-content-between align-items-center rounded-pill shadow-sm"
            >
              <span
                ><mat-icon class="icon-padding md-18" aria-hidden="false"
                  >list Auditing</mat-icon
                >Auditing</span
              ><i class="bi bi-chevron-right"></i>
            </button>
          </div>

          <!-- On-Site Records -->
          <h6 class="text-white fw-bold mb-3">On-Site Records</h6>
          <div class="d-grid gap-2 mb-4">
            <button
              class="menu-btn btn btn-white d-flex justify-content-between align-items-center rounded-pill shadow-sm"
              data-bs-toggle="collapse"
              data-bs-target="#siteInspectionCollapse"
            >
              <span
                ><mat-icon class="icon-padding md-18" aria-hidden="false"
                  >checklist</mat-icon
                >
                Site Inspections</span
              ><i class="bi bi-chevron-right"></i>
            </button>
            <div class="collapse ps-3" id="siteInspectionCollapse">
              <button
                (click)="navigateTo('/site-inspection', 'Add')"
                class="menu-btn btn d-flex align-items-center mb-2 rounded-pill shadow-sm"
                style="background-color: #9bd5c7"
              >
                <mat-icon class="icon-padding md-18" aria-hidden="false"
                  >add</mat-icon
                >
                Add a Site Inspection
              </button>
              <button
                class="menu-btn btn d-flex align-items-center rounded-pill shadow-sm"
                style="background-color: #5caaa5"
                (click)="navigateTo('/site-inspection', 'View')"
              >
                <mat-icon class="icon-padding md-18" aria-hidden="false"
                  >view_list</mat-icon
                >
                View SiteInspection
              </button>
            </div>
            <button
              class="menu-btn btn btn-white d-flex justify-content-between align-items-center rounded-pill shadow-sm"
              data-bs-toggle="collapse"
              data-bs-target="#tslCollapse"
            >
              <span
                ><mat-icon class="icon-padding md-18" aria-hidden="false"
                  >speed</mat-icon
                >
                Temporary Speed Limits</span
              ><i class="bi bi-chevron-right"></i>
            </button>
            <div class="collapse ps-3" id="tslCollapse">
              <button
                (click)="navigateTo('/tsl', 'Add')"
                class="menu-btn btn d-flex align-items-center mb-2 rounded-pill shadow-sm"
                style="background-color: #9bd5c7"
              >
                <mat-icon class="icon-padding md-18" aria-hidden="false"
                  >add</mat-icon
                >
                Add a TSL
              </button>
              <button
                class="menu-btn btn d-flex align-items-center rounded-pill shadow-sm"
                style="background-color: #5caaa5"
                (click)="navigateTo('/tsl', 'View')"
              >
                <mat-icon class="icon-padding md-18" aria-hidden="false"
                  >view_list</mat-icon
                >
                View TSL
              </button>
            </div>
            <button
              class="menu-btn btn btn-white d-flex justify-content-between align-items-center rounded-pill shadow-sm"
              data-bs-toggle="collapse"
              data-bs-target="#handoverCollapse"
            >
              <span
                ><mat-icon class="icon-padding md-18" aria-hidden="false"
                  >handshake</mat-icon
                >
                Handovers and Delegations</span
              ><i class="bi bi-chevron-right"></i>
            </button>
            <div class="collapse ps-3" id="handoverCollapse">
              <button
                (click)="navigateTo('/site-handover', 'Add')"
                class="menu-btn btn d-flex align-items-center mb-2 rounded-pill shadow-sm"
                style="background-color: #9bd5c7"
              >
                <mat-icon class="icon-padding md-18" aria-hidden="false"
                  >add</mat-icon
                >
                Add a Site Handover
              </button>
              <button
                class="menu-btn btn d-flex align-items-center rounded-pill shadow-sm"
                style="background-color: #5caaa5"
                (click)="navigateTo('/site-handover', 'View')"
              >
                <mat-icon class="icon-padding md-18" aria-hidden="false"
                  >view_list</mat-icon
                >
                View Site Handover
              </button>
            </div>
            <!-- Toolbox Briefings -->
            <button
              class="menu-btn btn btn-white d-flex justify-content-between align-items-center rounded-pill shadow-sm"
              data-bs-toggle="collapse"
              data-bs-target="#toolboxCollapse"
            >
              <span
                ><mat-icon class="icon-padding md-18" aria-hidden="false"
                  >playlist_add_check</mat-icon
                >
                Toolbox Briefings</span
              ><i class="bi bi-chevron-down"></i>
            </button>
            <div class="collapse ps-3" id="toolboxCollapse">
              <button
                class="menu-btn btn d-flex align-items-center mb-2 rounded-pill shadow-sm"
                style="background-color: #9bd5c7"
                (click)="navigateTo('/toolbox-briefings', 'Add')"
              >
                <mat-icon class="icon-padding md-18" aria-hidden="false"
                  >add</mat-icon
                >
                Add a Toolbox
              </button>
              <button
                class="menu-btn btn d-flex align-items-center rounded-pill shadow-sm"
                style="background-color: #5caaa5"
                (click)="navigateTo('/toolbox-briefings', 'View')"
              >
                <mat-icon class="icon-padding md-18" aria-hidden="false"
                  >view_list</mat-icon
                >
                View Toolboxes
              </button>
            </div>
          </div>

          <!-- Resources -->
          <h6 class="text-white fw-bold mb-3">Resources</h6>
          <div class="d-grid gap-2">
            <button
              class="menu-btn btn btn-white d-flex justify-content-between align-items-center rounded-pill shadow-sm"
            >
              <span
                ><mat-icon class="icon-padding md-18" aria-hidden="false"
                  >campaign</mat-icon
                >
                Announcements</span
              ><i class="bi bi-chevron-right"></i>
            </button>
            <button
              class="menu-btn btn btn-white d-flex justify-content-between align-items-center rounded-pill shadow-sm"
            >
              <span
                ><mat-icon class="icon-padding md-18" aria-hidden="false"
                  >library_books</mat-icon
                >
                Library</span
              ><i class="bi bi-chevron-right"></i>
            </button>
            <button
              class="menu-btn btn btn-white d-flex justify-content-between align-items-center rounded-pill shadow-sm"
            >
              <span
                ><mat-icon class="icon-padding md-18" aria-hidden="false"
                  >help</mat-icon
                >
                Guides</span
              ><i class="bi bi-chevron-right"></i>
            </button>
          </div>
        </div>
      </div>
    </ng-template>
    <!-- <ng-template #menuTemplate>
  <app-menu></app-menu>
</ng-template> -->
    <div
      class="modal fade"
      id="addModal"
      tabindex="-1"
      aria-labelledby="addModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-fullscreen-sm-down">
        <div class="modal-content" style="border-radius: 20px">
          <div
            class="modal-header bg-gradient"
            style="background: linear-gradient(to right, #a8edea, #fed6e3)"
          >
            <h5 class="modal-title" id="addModalLabel">Quick Actions</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body px-4">
            <!-- General -->
            <h6 class="fw-bold text-muted">General</h6>
            <div class="list-group mb-3">
              <button class="list-group-item list-group-item-action">
                🚚 Add Callout Job
              </button>
              <button class="list-group-item list-group-item-action">
                🚗 Vehicle Checks
              </button>
              <button class="list-group-item list-group-item-action">
                📝 Auditing
              </button>
            </div>

            <!-- On-Site Records -->
            <h6 class="fw-bold text-muted">On-Site Records</h6>
            <div class="list-group mb-3">
              <button class="list-group-item list-group-item-action">
                📋 Site Inspections
              </button>
              <button class="list-group-item list-group-item-action">
                🚧 Temporary Speed Limits
              </button>
              <button class="list-group-item list-group-item-action">
                📑 Handovers and Delegations
              </button>

              <!-- Toolbox Briefings dropdown -->
              <div class="accordion" id="toolboxAccordion">
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingToolbox">
                    <button
                      class="accordion-button collapsed"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#collapseToolbox"
                      aria-expanded="false"
                      aria-controls="collapseToolbox"
                    >
                      🗂️ Toolbox Briefings
                    </button>
                  </h2>
                  <div
                    id="collapseToolbox"
                    class="accordion-collapse collapse"
                    aria-labelledby="headingToolbox"
                    data-bs-parent="#toolboxAccordion"
                  >
                    <div class="accordion-body px-2">
                      <button class="btn btn-outline-primary w-100 mb-2">
                        ➕ Add a Toolbox
                      </button>
                      <button class="btn btn-outline-secondary w-100">
                        📂 View Toolboxes
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Resources -->
            <h6 class="fw-bold text-muted">Resources</h6>
            <div class="list-group">
              <button class="list-group-item list-group-item-action">
                📢 Announcements
              </button>
              <button class="list-group-item list-group-item-action">
                📚 Library
              </button>
              <button class="list-group-item list-group-item-action">
                📖 Guides
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <a
      routerLink="/tasks"
      [ngClass]="{ 'active-tab': activeRoute === '/tasks' }"
      class="tab-link text-white text-center"
    >
      <mat-icon aria-hidden="false" aria-label="add icon"
        >event_available</mat-icon
      >
      <p class="mb-0">Tasks</p>
    </a>

    <a routerLink="/timesheet" [ngClass]="{ 'active-tab': activeRoute === '/timesheet' }" class="tab-link text-white text-center">
      <mat-icon aria-hidden="false" aria-label="add icon"
        >work_history</mat-icon
      >
      <p class="mb-0">Timesheets</p>
    </a>
  </nav>
</footer>
